<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>ACH 2077</title>
    </h:head>
    
    <h:body style="padding-top: 50px; padding-bottom: 20px;">
        <ui:include src="/header.xhtml" />
        
        
        <b:container>
            <b:row>
                <b:column col-md="12">
                    <h2>Edição de Imóvel</h2>
                    <p>
                        <b:form>
                            <h3>Informações Básicas</h3>
                            <b:inputText value="#{imovelBean.imovel.id_imovel}" type="hidden" required="true"></b:inputText>
                            <b:inputText value="#{imovelBean.imovel.visitas}" type="hidden" required="true"></b:inputText>
                            
                            <b:panelGrid colSpans="12" size="xs">
                                <b:inputText value="#{imovelBean.imovel.titulo}" label="Título" required="true"></b:inputText>
                                <b:inputTextarea value="#{imovelBean.imovel.descricao}" label="Descrição" required="true"/>
                            </b:panelGrid>
                            
                            <b:panelGrid colSpans="3,3,3,3" size="xs">
                                <b:selectOneMenu value="#{imovelBean.imovel.tipo}" label="Tipo" required="true">
                                        <f:selectItem itemLabel="Apartamento" itemValue="APARTAMENTO"/>
                                        <f:selectItem itemLabel="Casa" itemValue="CASA"/>
                                        <f:selectItem itemLabel="Cobertura" itemValue="COBERTURA"/>
                                </b:selectOneMenu>
                                <b:inputText value="#{imovelBean.imovel.preco_venda}" label="Preço de Venda" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.preco_aluguel}" label="Preço de Aluguel" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.preco_condominio}" label="Preço de Condomínio" required="true"></b:inputText>

                                <b:inputText value="#{imovelBean.imovel.area}" label="Área" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.quartos}" label="Quartos" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.suites}" label="Suítes" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.vagas}" label="Vagas" required="true"></b:inputText>
                            </b:panelGrid>
                                
                            <b:panelGrid colSpans="4,4,4" size="xs">
                                <b:inputText value="#{imovelBean.imovel.estado}" label="Estado" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.cidade}" label="Cidade" required="true"></b:inputText>
                                <b:inputText value="#{imovelBean.imovel.endereco}" label="Endereço" required="true"></b:inputText>
                            </b:panelGrid>
                            
                            
                            <b:commandButton style="margin-top:30px; margin-bottom: 50px" action="#{imovelBean.atualizaImovel}" value="Atualizar"/>
                            
                            
                            
                            
                            <h3>Adicionar Fotos</h3>
                            <b:panelGrid colSpans="5,5,2" size="xs">
                                <b:inputText value="#{fotoBean.foto.url}" label="URL"></b:inputText>
                                <b:inputText value="#{fotoBean.foto.titulo}" label="Título"></b:inputText>
                                <b:commandButton  style="margin-top:25px;" action="#{fotoBean.adicionaFoto(imovelBean.imovel.id_imovel)}" value="Adicionar Foto"/>
                            </b:panelGrid>
                            
                            <h:panelGroup rendered="#{not empty imovelBean.imovel.fotos}">
                                <h4>Fotos adicionadas</h4>
                                <ui:repeat value="#{imovelBean.imovel.fotos}" var="foto">
                                    <img src="#{foto.url}" height="75"/>
                                    <p><h:outputText value="#{foto.titulo}"></h:outputText></p>
                                </ui:repeat>
                            </h:panelGroup>
                        </b:form>
                    </p>
                </b:column>
            </b:row>
            <hr/>
        </b:container>
        
        <ui:include src="/footer.xhtml" />

    </h:body>
</html>
